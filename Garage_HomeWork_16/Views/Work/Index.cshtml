@using Garage_HomeWork_16.ViewModels.Work;
@using System.Text;
@model WorkIndexViewModel

<!-- Start Banner Hero -->
<div id="work_banner" class="banner-wrapper bg-light w-100 py-5">
    <div class="banner-vertical-center-work container text-light d-flex justify-content-center align-items-center py-5 p-0">
        <div class="banner-content col-lg-8 col-12 m-lg-auto text-center">
            <h1 class="banner-heading h2 display-3 pb-5 semi-bold-600 typo-space-line-center">Our Work</h1>
            <h3 class="h4 pb-2 regular-400">Elit, sed do eiusmod tempor incididunt</h3>
            <p class="banner-body pb-2 light-300">
                Vector illustration <a class="text-white" href="http://freepik.com/" target="_blank">Freepik</a>.
                Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                sed do eiusmod tempor incididunt ut labore et dolore magna
                aliqua. Quis ipsum suspendisse ultrices gravida. Risus
                commodo viverra maecenas accumsan lacus.
            </p>
            <button type="submit" class="btn rounded-pill btn-outline-light px-4 me-4 light-300">Learn More</button>
            <button type="submit" class="btn rounded-pill btn-secondary text-light px-4 light-300">Contact Us</button>
        </div>
    </div>
</div>
<!-- End Banner Hero -->
<!-- Start Our Work -->
<section class="container py-5">
    <div class="row justify-content-center my-5">
        <div class="filter-btns shadow-md rounded-pill text-center col-auto">
            <a class="filter-btn btn rounded-pill btn-outline-primary border-0 m-md-2 px-md-4 active" data-filter=".project" href="#">All</a>


            @foreach (var item in Model.Categories)
            {
                <a class="filter-btn btn rounded-pill btn-outline-primary border-0 m-md-2 px-md-4" data-filter=".@item.Title!.Split(' ')[0].ToLower()" href="#">@item.Title</a>
            }
        </div>
    </div>

    <div class="row projects gx-lg-5">


        @foreach (var item in Model.CategoryComponents)
        {
            StringBuilder st = new StringBuilder();
            foreach (var category in item.Categories)
            {
                st.Append(category.Title!.ToLower());
                st.Append(" ");
            }

            <a href="work-single.html" class="col-sm-6 col-lg-4 text-decoration-none project @st">
                <div class="service-work overflow-hidden card mb-5 mx-5 m-sm-0">
                    <img class="card-img-top" src="~/assets/img/@item.FilePath" alt="...">
                    <div class="card-body">
                        <h5 class="card-title light-300 text-dark">@item.Title</h5>
                        <p class="card-text light-300 text-dark">
                            @item.Description
                        </p>
                        <span class="text-decoration-none text-primary light-300">
                            Read more <i class='bx bxs-hand-right ms-1'></i>
                        </span>
                    </div>
                </div>
            </a>
        }
    </div>
    <div class="row">
        <div class="btn-toolbar justify-content-center pb-4" role="toolbar" aria-label="Toolbar with button groups">
            <div class="btn-group me-2" role="group" aria-label="First group">
                <button type="button" class="btn btn-secondary text-white">Previous</button>
            </div>
            <div class="btn-group me-2" role="group" aria-label="Second group">
                <button type="button" class="btn btn-light">1</button>
            </div>
            <div class="btn-group me-2" role="group" aria-label="Second group">
                <button type="button" class="btn btn-secondary text-white">2</button>
            </div>
            <div class="btn-group" role="group" aria-label="Third group">
                <button type="button" class="btn btn-secondary text-white">Next</button>
            </div>
        </div>
    </div>
</section>
<!-- End Our Work -->
<!-- Start Feature Work -->
<section class="bg-light py-5">
    <div class="feature-work container my-4">
        <div class="row d-flex d-flex align-items-center">
            @if (Model.FeaturedWorkComponent != null)
            {
                <div class="col-lg-5">
                    <h3 class="feature-work-title h4 text-muted light-300">@Model.FeaturedWorkComponent.Title</h3>
                    @Html.Raw(Model.FeaturedWorkComponent.Description)
                </div>
                <div class="col-lg-6 offset-lg-1 align-left">
                    @for (int i = 0; i < Model.FeaturedWorkComponent.FeaturedWorkComponentPhotos.Count; i+=2)
                    {
                        <div class="row pt-4">
                            <a class="col" data-type="image" data-fslightbox="gallery" href="~/assets/img/feature-work-1-large.jpg">
                                <img class="img-fluid" src="~/assets/img/@Model.FeaturedWorkComponent.FeaturedWorkComponentPhotos[i].PhotoPath">

                            </a>
                            @if (i + 1 < Model.FeaturedWorkComponent.FeaturedWorkComponentPhotos.Count)
                            {
                                <a class="col" data-type="image" data-fslightbox="gallery" href="~/assets/img/feature-work-2-large.jpg">
                                    <img class="img-fluid" src="~/assets/img/@Model.FeaturedWorkComponent.FeaturedWorkComponentPhotos[i+1].PhotoPath">
                                </a>                               
                            }
                        </div>
                    }
                </div>
            }
            else{
                <h1 style="text-align:center" >FeaturedWork Not Found</h1>
            }
        </div>
    </div>
</section>
<!-- End Feature Work -->
